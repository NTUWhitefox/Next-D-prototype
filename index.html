<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>亞洲學生模擬器 Prototype</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-container">
        <!-- Top Left: Time System -->
        <div id="time-display" class="hud-panel">
            <div id="day-count">第 1 天</div>
            <div id="weekday-display">星期一</div>
            <div id="time-period">早晨</div>
        </div>

        <!-- Main Map -->
        <div id="main-map">
            <div class="map-location" id="loc-home" onclick="openLocation('home')">
                <img src="assets/home_bg.png" alt="家">
                <div class="loc-label">家</div>
            </div>
            <div class="map-location" id="loc-street" onclick="openLocation('street')">
                <img src="assets/street_bg.png" alt="補習街">
                <div class="loc-label">補習街</div>
            </div>
            <div class="map-location placeholder" id="loc-school">
                <img src="assets/school_bg.png" alt="學校">
                <div class="loc-label">學校 (開發中)</div>
            </div>
            <div class="map-location placeholder" id="loc-park">
                <img src="assets/park_bg.png" alt="公園">
                <div class="loc-label">公園 (開發中)</div>
            </div>
        </div>

        <!-- Bottom Left: Stats - REMOVED and moved to Right Side -->
        
        <!-- Right Side: Stats -->
        <div id="sidebar-stats" class="hud-panel">
            <div class="stat-category">
                <h4>玩家狀態</h4>
                <div class="stat-row"><label>疲勞</label><span id="val-fatigue">0</span></div>
                <div class="stat-row"><label>壓力</label><span id="val-stress">0</span></div>
                <div class="stat-row"><label>創傷</label><span id="val-trauma">0</span></div>
            </div>
            <div class="stat-category">
                <h4>學習</h4>
                <div class="stat-row"><label>國文</label><span id="val-chinese">0</span></div>
                <div class="stat-row"><label>英文</label><span id="val-english">0</span></div>
                <div class="stat-row"><label>數學</label><span id="val-math">0</span></div>
                <div class="stat-row"><label>理化</label><span id="val-science">0</span></div>
            </div>
            <div class="stat-category">
                <h4>才藝</h4>
                <div class="stat-row"><label>鋼琴</label><span id="val-piano">0</span></div>
                <div class="stat-row"><label>體能</label><span id="val-physical">0</span></div>
                <div class="stat-row"><label>棋藝</label><span id="val-chess">0</span></div>
                <div class="stat-row"><label>游泳</label><span id="val-swimming">0</span></div>
            </div>
            <div class="stat-category">
                <h4>人格</h4>
                <div class="stat-row"><label>魅力</label><span id="val-charm">0</span></div>
                <div class="stat-row"><label>口才</label><span id="val-eloquence">0</span></div>
                <div class="stat-row"><label>騙術</label><span id="val-deception">0</span></div>
                <div class="stat-row"><label>家政</label><span id="val-home_economics">0</span></div>
            </div>
            <div class="stat-category">
                <h4>資產</h4>
                <div class="stat-row">
                    <label>金錢</label>
                    <span id="val-money" style="color: gold; font-weight: bold;">200</span>
                </div>
            </div>
        </div>

        <!-- Interaction Panels (Modals) -->
        <div id="panel-overlay" class="hidden">
            <div id="location-panel">
                <div class="panel-header">
                    <h2 id="panel-title">地點名稱</h2>
                    <button onclick="closePanel()">X</button>
                </div>
                <div id="panel-content">
                    <!-- Dynamic Content -->
                </div>
            </div>
        </div>
    </div>

    <!-- Templates for panel content -->
    <template id="tpl-home">
        <div class="action-grid">
            <div class="action-card" onclick="performAction('sleep')">
                <img src="assets/action_sleep.png" alt="睡覺">
                <p>睡覺 (-疲勞)</p>
            </div>
            <div class="action-card" onclick="performAction('piano_easy')">
                <img src="assets/action_piano.png" alt="簡單練琴">
                <p>簡單練琴 (+少量鋼琴)</p>
            </div>
            <div class="action-card" onclick="performAction('piano_hard')">
                <img src="assets/action_piano.png" alt="困難練琴">
                <p>困難練琴 (+大量鋼琴, +疲勞)</p>
            </div>
            
            <!-- Study Options -->
            <div class="action-card" onclick="performAction('study', 'chinese')">
                <img src="assets/action_study.png" alt="讀國文">
                <p>讀國文 (需參考書)</p>
            </div>
            <div class="action-card" onclick="performAction('study', 'english')">
                <img src="assets/action_study.png" alt="讀英文">
                <p>讀英文 (需參考書)</p>
            </div>
            <div class="action-card" onclick="performAction('study', 'math')">
                <img src="assets/action_study.png" alt="讀數學">
                <p>讀數學 (需參考書)</p>
            </div>
            <div class="action-card" onclick="performAction('study', 'science')">
                <img src="assets/action_study.png" alt="讀理化">
                <p>讀理化 (需參考書)</p>
            </div>

            <div class="action-card" id="btn-read-comic" onclick="performAction('read_comic')" style="display:none;">
                <img src="assets/item_comic.png" alt="看漫畫">
                <p>看漫畫 (-疲勞)</p>
            </div>
        </div>
    </template>

    <template id="tpl-street">
        <div class="action-grid">
            <!-- Cram School Options -->
            <div class="action-card" onclick="performAction('cram_school', 'chinese')">
                <img src="assets/action_cram.png" alt="補國文">
                <p>補國文 (一三五)</p>
            </div>
            <div class="action-card" onclick="performAction('cram_school', 'english')">
                <img src="assets/action_cram.png" alt="補英文">
                <p>補英文 (一三五)</p>
            </div>
            <div class="action-card" onclick="performAction('cram_school', 'math')">
                <img src="assets/action_cram.png" alt="補數學">
                <p>補數學 (一三五)</p>
            </div>
            <div class="action-card" onclick="performAction('cram_school', 'science')">
                <img src="assets/action_cram.png" alt="補理化">
                <p>補理化 (一三五)</p>
            </div>

            <div class="action-card" onclick="openShop()">
                <img src="assets/action_shop.png" alt="書店">
                <p>書店 (購買書籍)</p>
            </div>
        </div>
    </template>

    <template id="tpl-shop">
        <div class="action-grid">
            <!-- Buy Books -->
            <div class="action-card" onclick="performAction('buy_refbook', 'chinese')">
                <img src="assets/item_refbook.png" alt="國文參考書">
                <p>國文參考書 ($50)</p>
            </div>
            <div class="action-card" onclick="performAction('buy_refbook', 'english')">
                <img src="assets/item_refbook.png" alt="英文參考書">
                <p>英文參考書 ($50)</p>
            </div>
            <div class="action-card" onclick="performAction('buy_refbook', 'math')">
                <img src="assets/item_refbook.png" alt="數學參考書">
                <p>數學參考書 ($50)</p>
            </div>
            <div class="action-card" onclick="performAction('buy_refbook', 'science')">
                <img src="assets/item_refbook.png" alt="理化參考書">
                <p>理化參考書 ($50)</p>
            </div>

            <div class="action-card" onclick="performAction('buy_comic')">
                <img src="assets/item_comic.png" alt="漫畫書">
                <p>漫畫書 ($30)<br><small>在家閱讀減壓</small></p>
            </div>
        </div>
        <button onclick="openLocation('street')" style="margin-top: 20px;">返回街道</button>
    </template>

    <script src="script.js"></script>
</body>
</html>
